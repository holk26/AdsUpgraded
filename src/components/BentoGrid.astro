---
import SectionHeading from './ui/SectionHeading.astro';

export interface Props {
  t: (key: string) => string;
}

const { t } = Astro.props;

const features = [
  {
    icon: 'M13 10V3L4 14h7v7l9-11h-7z',
    titleKey: 'bento.feature1.title',
    descKey: 'bento.feature1.desc',
    size: 'large', // 2 columns on desktop
  },
  {
    icon: 'M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4',
    titleKey: 'bento.feature2.title',
    descKey: 'bento.feature2.desc',
    size: 'medium',
  },
  {
    icon: 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    titleKey: 'bento.feature3.title',
    descKey: 'bento.feature3.desc',
    size: 'medium',
  },
  {
    icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z',
    titleKey: 'bento.feature4.title',
    descKey: 'bento.feature4.desc',
    size: 'large',
  },
  {
    icon: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z',
    titleKey: 'bento.feature5.title',
    descKey: 'bento.feature5.desc',
    size: 'medium',
  },
];

const sizeClasses = {
  large: 'md:col-span-2 md:row-span-2',
  medium: 'md:col-span-1',
};
---

<section id="bento-grid" class="py-20 md:py-32 relative overflow-hidden">
  <!-- Background effects -->
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_30%,rgba(93,93,255,0.12),transparent_50%)]"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_70%,rgba(0,255,194,0.12),transparent_50%)]"></div>
  
  <div class="container mx-auto px-4 relative z-10">
    <SectionHeading 
      title={t('bento.title')}
      subtitle={t('bento.subtitle')}
      centered={true}
      class="mb-16"
    />

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 max-w-7xl mx-auto auto-rows-fr">
      {features.map((feature) => (
        <div 
          class={`group relative ${sizeClasses[feature.size]} min-h-[280px] md:min-h-[320px]`}
        >
          <!-- Gradient border wrapper -->
          <div class="gradient-border h-full">
            <!-- Glass effect card -->
            <div class="glass-effect rounded-xl p-6 md:p-8 h-full flex flex-col justify-between hover:shadow-2xl transition-all duration-500 hover:-translate-y-1 glow-effect hover:scale-[1.02]">
              <!-- Icon container -->
              <div class="mb-6">
                <div class="w-16 h-16 bg-gradient-to-br from-color-accent/30 to-color-secondary/30 rounded-2xl flex items-center justify-center group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
                  <svg class="w-9 h-9 text-gradient" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={feature.icon} />
                  </svg>
                </div>
              </div>
              
              <!-- Content -->
              <div class="flex-1">
                <h3 class="text-xl md:text-2xl font-bold text-text-heading mb-3 group-hover:text-gradient transition-all duration-300">
                  {t(feature.titleKey)}
                </h3>
                <p class="text-text-body leading-relaxed opacity-90">
                  {t(feature.descKey)}
                </p>
              </div>

              <!-- Decorative corner accent -->
              <div class="absolute top-4 right-4 w-2 h-2 bg-gradient-to-br from-color-accent to-color-secondary rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300" aria-hidden="true"></div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
