---
import Button from './ui/Button.astro';

export interface Props {
  t: (key: string) => string;
}

const { t } = Astro.props;
---

<!-- 
  Hero Section - Refactored for Predictability & Responsiveness
  - Respects fixed header (pt-20 accounts for ~70px header height)
  - Uses flex for vertical centering (no magic margins)
  - Mobile-first approach with Tailwind utilities only
  - Background opacity reduced to not compete with content
-->
<section 
  id="hero" 
  class="relative pt-20 pb-16 sm:pb-20 lg:pb-24 min-h-svh flex flex-col justify-center overflow-hidden"
  aria-labelledby="hero-heading"
>
  <!-- Background Layer - Subtle, non-competing -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none" aria-hidden="true">
    <!-- Base gradient -->
    <div class="absolute inset-0 bg-gradient-to-b from-[#0a0e1a] via-[#0d1428] to-[#1a1a2e]"></div>
    
    <!-- Animated grid - reduced opacity -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute inset-0 bg-[linear-gradient(rgba(93,93,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(93,93,255,0.1)_1px,transparent_1px)] bg-[size:50px_50px]"></div>
    </div>
    
    <!-- Digital globe effect - subtle, right-positioned -->
    <div class="absolute right-0 top-1/2 -translate-y-1/2 w-[300px] h-[300px] md:w-[500px] md:h-[500px] lg:w-[700px] lg:h-[700px] opacity-20">
      <div class="absolute inset-0 rounded-full bg-gradient-to-br from-cyan-400/20 via-blue-500/10 to-transparent blur-3xl animate-pulse-slow"></div>
      <div class="absolute inset-0 rounded-full border border-cyan-400/10 animate-spin-slow"></div>
      <div class="absolute inset-8 rounded-full border border-cyan-400/5 animate-spin-slow [animation-duration:20s] [animation-direction:reverse]"></div>
    </div>
    
    <!-- Floating particles - desktop only -->
    <div class="absolute inset-0 hidden md:block">
      <div class="absolute top-[20%] left-[10%] w-1 h-1 rounded-full bg-cyan-400/40 animate-float"></div>
      <div class="absolute top-[60%] left-[20%] w-1 h-1 rounded-full bg-cyan-400/40 animate-float [animation-delay:2s]"></div>
      <div class="absolute top-[40%] right-[15%] w-1 h-1 rounded-full bg-blue-400/40 animate-float [animation-delay:1s]"></div>
      <div class="absolute top-[80%] right-[25%] w-1 h-1 rounded-full bg-blue-400/40 animate-float [animation-delay:3s]"></div>
    </div>
    
    <!-- Bottom gradient fade -->
    <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[#0a0e1a] to-transparent"></div>
  </div>
  
  <!-- Content Layer - Clear hierarchy -->
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="max-w-5xl mx-auto">
      <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
        <!-- Main Content - Centered on mobile, left-aligned on desktop -->
        <div class="text-center lg:text-left space-y-4 sm:space-y-6">
          <!-- Badge -->
          <div class="flex justify-center lg:justify-start">
            <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold text-cyan-400 bg-cyan-400/10 backdrop-blur-md border border-cyan-400/20">
              <span class="relative flex h-2 w-2">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan-400"></span>
              </span>
              {t('hero.social')}
            </span>
          </div>
          
          <!-- Main Heading -->
          <h1 
            id="hero-heading"
            class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight tracking-tight"
          >
            <span class="block bg-gradient-to-r from-white via-cyan-100 to-white bg-clip-text text-transparent">
              {t('hero.title')}
            </span>
          </h1>
          
          <!-- Tagline -->
          <p class="text-lg sm:text-xl lg:text-2xl font-semibold text-cyan-400">
            {t('hero.tagline')}
          </p>
          
          <!-- Subtitle -->
          <p class="text-base sm:text-lg text-gray-300 leading-relaxed max-w-2xl mx-auto lg:mx-0">
            {t('hero.subtitle')}
          </p>

          <!-- CTA Buttons - Clear hierarchy -->
          <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 justify-center lg:justify-start">
            <Button variant="primary" size="lg" href="#demo" ariaLabel={t('hero.cta')}>
              {t('hero.cta')}
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </Button>
            <Button variant="ghost" size="lg" href="#how-it-works" ariaLabel={t('hero.demo')}>
              {t('hero.demo')}
            </Button>
          </div>
        </div>
        
        <!-- Tech Visualization - Desktop only, simplified -->
        <div class="relative hidden lg:block" aria-hidden="true">
          <div class="relative aspect-square max-w-md mx-auto">
            <!-- Central orb with subtle animations -->
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="relative w-48 h-48">
                <div class="absolute inset-0 rounded-full bg-gradient-to-br from-cyan-400/60 to-blue-600/60 animate-pulse-glow"></div>
                <div class="absolute inset-2 rounded-full bg-gradient-to-br from-cyan-300/40 to-blue-500/40 blur-xl"></div>
                <div class="absolute inset-0 rounded-full border-2 border-cyan-400/20 animate-spin-slow"></div>
                <div class="absolute inset-4 rounded-full border border-cyan-400/10 animate-spin-slow [animation-duration:15s] [animation-direction:reverse]"></div>
              </div>
            </div>
            
            <!-- Orbiting service icons -->
            <div class="absolute inset-0">
              <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-orbit">
                <div class="w-12 h-12 flex items-center justify-center bg-cyan-400/10 backdrop-blur-sm border border-cyan-400/20 rounded-xl translate-x-36">
                  <svg class="w-6 h-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />
                  </svg>
                </div>
              </div>
              
              <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-orbit [animation-delay:-5s]">
                <div class="w-12 h-12 flex items-center justify-center bg-blue-400/10 backdrop-blur-sm border border-blue-400/20 rounded-xl translate-x-36">
                  <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                  </svg>
                </div>
              </div>
              
              <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-orbit [animation-delay:-10s]">
                <div class="w-12 h-12 flex items-center justify-center bg-cyan-400/10 backdrop-blur-sm border border-cyan-400/20 rounded-xl translate-x-36">
                  <svg class="w-6 h-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                  </svg>
                </div>
              </div>
              
              <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-orbit [animation-delay:-15s]">
                <div class="w-12 h-12 flex items-center justify-center bg-blue-400/10 backdrop-blur-sm border border-blue-400/20 rounded-xl translate-x-36">
                  <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Wave Separator -->
  <div class="absolute bottom-0 left-0 right-0 z-10" aria-hidden="true">
    <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" class="w-full h-auto">
      <path d="M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0V120Z" fill="var(--bg-surface)"/>
    </svg>
  </div>
</section>

<!-- 
  Refactoring Summary:
  ✅ Removed unnecessary custom CSS
  ✅ Used only Tailwind utilities
  ✅ Respects fixed header (pt-20 = ~80px space)
  ✅ Uses flex for vertical centering (predictable)
  ✅ max-w-5xl ensures readable content width
  ✅ Reduced background opacity to not compete with text
  ✅ Mobile-first responsive approach
  ✅ CTA button hierarchy is clear
  ✅ Semantic HTML with proper ARIA labels
  ✅ No interference with header or layout
  
  What was wrong:
  - Too many conflicting paddings (pt-16 to pt-28)
  - Complex custom CSS that could be Tailwind utilities
  - Background too prominent, competing with content
  - Excessive vertical space on mobile
  - Animation delays unnecessary for initial load
  - Custom particle styles when Tailwind could handle it
-->
